import{r as o,c as k,w as h,b as u,j as e,s as n,P as x,a as y}from"./index-DjmUyBrg.js";const p=o.memo(function({item:a,id:c,checked:r,onToggle:d}){return e.jsxs("label",{style:n.checkItem,children:[e.jsx("input",{type:"checkbox",checked:r,onChange:()=>d(c),style:n.checkbox}),e.jsx("span",{children:a})]})});function b(){const[l,a]=o.useState({}),c=o.useMemo(()=>Object.values(l).filter(Boolean).length,[l]),r=o.useMemo(()=>c===0?{tone:"#e0e0e0",text:"اختر البنود للحصول على توصية أولية."}:c<=3?{tone:"#22c55e",text:"مؤشرات منخفضة، جرّب الألعاب التفاعلية للمزيد من الفحص."}:c<=7?{tone:"#f59e0b",text:"مؤشرات متوسطة، يُنصح بتقييم أولي في العيادة."}:{tone:"#ef4444",text:"مؤشرات مرتفعة، نوصي بتقييم متخصص ومتكامل."},[c]),d=o.useCallback(t=>{a(i=>({...i,[t]:!i[t]}))},[]),m=o.useCallback(async()=>{const{doc:t,fontReady:i}=await k();t.setFontSize(16);let s=60;h(t,y.nameAr,x,s),s+=22,h(t,"قائمة التحقق الأولية",x,s),t.setFont(i?"Cairo":"helvetica","normal"),t.setFontSize(12),s+=24,u.forEach((f,j)=>{h(t,`${j+1}. ${f}`,x,s),s+=20,s>760&&(t.addPage(),s=64)}),t.save("ait-checklist.pdf")},[]);return e.jsxs("section",{id:"checklist",style:n.sectionCard,children:[e.jsxs("div",{style:n.sectionHeaderRow,children:[e.jsxs("div",{children:[e.jsx("h2",{style:n.h2,children:"قائمة التحقق التفاعلية"}),e.jsx("p",{style:n.muted,children:"اختر البنود وشاهد التوصية المباشرة."})]}),e.jsx("div",{style:{display:"flex",gap:8},children:e.jsx("button",{style:n.primaryBtn,onClick:m,children:"تحميل القائمة"})})]}),e.jsx("div",{style:n.checklistGrid,children:u.map((t,i)=>{const s=i+1;return e.jsx(p,{item:t,id:s,checked:!!l[s],onToggle:d},s)})}),e.jsxs("div",{style:{marginTop:16,padding:12,borderRadius:10,background:"#0f1629"},children:[e.jsxs("strong",{children:["النتيجة: ",c," بنود"]}),e.jsx("p",{style:{margin:"6px 0 0",color:r.tone},children:r.text})]})]})}export{b as default};
