import{r as d,c as b,w as h,j as t,s,P as y,a as g}from"./index-BbKHhVfB.js";const i=[{id:1,title:"نظرة عامة على برنامج AIT",body:"مقدمة عن برمجية بيرار لتدريب السمع وكيفية تطبيقها في العيادة."},{id:2,title:"APD - اضطراب المعالجة السمعية",body:"علامات الاضطراب وتأثيره على الانتباه والتعلم."},{id:3,title:"فرط السمع (Hyperacusis)",body:"حساسية مفرطة للأصوات العالية وكيفية تقييمها ميدانياً."},{id:4,title:"خطة الجلسات",body:"كيف نوزع الجلسات العشر وتنسيق المتابعة مع الأسرة."}],S=d.memo(function({slide:o,onClick:l}){return t.jsxs("article",{style:s.slideItem,onClick:l,children:[t.jsx("h3",{style:s.h3,children:o.title}),t.jsx("p",{style:s.bodyText,children:o.body})]})});function v(){const[r,o]=d.useState(""),[l,c]=d.useState(null),x=d.useMemo(()=>{const e=r.trim().toLowerCase();return e?i.filter(a=>a.title.toLowerCase().includes(e)||a.body.toLowerCase().includes(e)):i},[r]),j=d.useCallback(async()=>{const{doc:e,fontReady:a}=await b();e.setFontSize(18);let n=60;h(e,g.nameAr,y,n),n+=22,h(e,"عرض الشرائح - ملخص نصي",y,n),e.setFont(a?"Cairo":"helvetica","normal"),e.setFontSize(12),n+=24,i.forEach(p=>{h(e,p.title,y,n),n+=18,h(e,p.body,y+12,n,{maxWidth:500}),n+=36,n>760&&(e.addPage(),n=64)}),e.save("slides-summary.pdf")},[]),m=d.useCallback(e=>{c(e)},[]),u=d.useCallback(()=>{c(null)},[]),f=d.useCallback(()=>{if(!l)return;const e=i.findIndex(a=>a.id===l.id);c(e>0?i[e-1]:i[i.length-1])},[l]),C=d.useCallback(()=>{if(!l)return;const e=i.findIndex(a=>a.id===l.id);c(e<i.length-1?i[e+1]:i[0])},[l]);return t.jsxs(t.Fragment,{children:[t.jsxs("section",{id:"pptx",style:s.sectionCard,children:[t.jsxs("div",{style:s.sectionHeaderRow,children:[t.jsxs("div",{children:[t.jsx("h2",{style:s.h2,children:"عارض الشرائح (نسخة نصية)"}),t.jsx("p",{style:s.muted,children:"بحث فوري + عرض شرائح داخل نافذة منبثقة مع تنقّل سابق/لاحق."})]}),t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[t.jsx("input",{value:r,onChange:e=>o(e.target.value),placeholder:"ابحث عن APD / Hyperacusis ...",style:s.input}),t.jsx("button",{style:s.ghostBtn,onClick:j,children:"تصدير PDF"})]})]}),t.jsxs("div",{style:s.slideGrid,children:[x.map(e=>t.jsx(S,{slide:e,onClick:()=>m(e)},e.id)),x.length===0&&t.jsx("p",{style:s.muted,children:"لا توجد نتائج مطابقة."})]})]}),l&&t.jsx("div",{style:s.modalBackdrop,onClick:u,children:t.jsxs("div",{style:s.modal,onClick:e=>e.stopPropagation(),children:[t.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h3",{style:{margin:0},children:l.title}),t.jsx("button",{style:s.ghostBtn,onClick:u,children:"إغلاق"})]}),t.jsx("p",{style:{marginTop:12},children:l.body}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:12},children:[t.jsx("button",{style:s.ghostBtn,onClick:f,children:"السابق"}),t.jsx("button",{style:s.primaryBtn,onClick:C,children:"التالي"})]})]})})]})}export{v as default,i as slides};
