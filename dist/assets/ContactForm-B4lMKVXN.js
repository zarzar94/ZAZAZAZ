import{r as A,j as e,s as t,d as x,h}from"./index-CeMD2Ibw.js";const m=100,u=15,j=200,f=1e3,S=/^05\d{8}$/,l=(s,r)=>s.replace(/[\x00-\x1F\x7F]/g,"").slice(0,r).trim(),_=s=>S.test(s);function C(){const[s,r]=A.useState({}),n=x.isConfigured,a=x.error??"WhatsApp contact is disabled until a clinic phone is set.",g=c=>{if(c.preventDefault(),!n){console.error("[Lotus AIT] WhatsApp disabled - missing clinic phone");return}const o=new FormData(c.currentTarget),p=l(o.get("name")?.toString()??"",m),d=l(o.get("phone")?.toString()??"",u),y=l(o.get("purpose")?.toString()??"",j),b=l(o.get("message")?.toString()??"",f),i={};if(p.length<2&&(i.name="الاسم يجب أن يكون حرفين على الأقل"),_(d)||(i.phone="رقم الهاتف غير صحيح (مثال: 05xxxxxxxx)"),Object.keys(i).length>0){r(i);return}r({});const E=`الاسم: ${p}
الهاتف: ${d}
الغرض: ${y}
الرسالة: ${b}
أرغب بالتواصل حول برنامج بيرار AIT.`;h(E)};return e.jsxs("section",{id:"contact",style:t.sectionCard,children:[e.jsxs("div",{style:t.sectionHeaderRow,children:[e.jsxs("div",{children:[e.jsx("h2",{style:t.h2,children:"تواصل معنا"}),e.jsx("p",{style:t.muted,children:"نموذج واتساب سريع باللغة العربية (RTL)."})]}),e.jsx("button",{style:n?t.ghostBtn:t.disabledBtn,onClick:()=>n&&h(),disabled:!n,title:n?void 0:a,children:"واتساب مباشر"})]}),!n&&e.jsx("p",{style:{color:"#f59e0b",margin:"8px 0 12px",fontSize:13},children:"WhatsApp contact is disabled until VITE_CLINIC_PHONE is set."}),e.jsxs("form",{onSubmit:g,style:t.form,children:[e.jsxs("label",{style:t.formField,children:[e.jsx("span",{children:"الاسم"}),e.jsx("input",{name:"name",required:!0,maxLength:m,style:s.name?{...t.input,borderColor:"#ef4444"}:t.input,placeholder:"اسمك الكريم"}),s.name&&e.jsx("span",{style:{color:"#ef4444",fontSize:12},children:s.name})]}),e.jsxs("label",{style:t.formField,children:[e.jsx("span",{children:"رقم الهاتف"}),e.jsx("input",{name:"phone",required:!0,maxLength:u,style:s.phone?{...t.input,borderColor:"#ef4444"}:t.input,placeholder:"05xxxxxxxx"}),s.phone&&e.jsx("span",{style:{color:"#ef4444",fontSize:12},children:s.phone})]}),e.jsxs("label",{style:t.formField,children:[e.jsx("span",{children:"الغرض"}),e.jsx("input",{name:"purpose",maxLength:j,style:t.input,placeholder:"حجز تقييم / استفسار / شراكة"})]}),e.jsxs("label",{style:t.formField,children:[e.jsx("span",{children:"رسالتك"}),e.jsx("textarea",{name:"message",rows:3,maxLength:f,style:t.textarea,placeholder:"اكتب ملاحظاتك هنا"})]}),e.jsx("button",{type:"submit",style:n?t.primaryBtn:t.disabledBtn,disabled:!n,title:n?void 0:a,children:"إرسال عبر واتساب"})]})]})}export{C as default};
